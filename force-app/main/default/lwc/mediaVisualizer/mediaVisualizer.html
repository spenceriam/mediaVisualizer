<template>
    <lightning-card title="Media Visualizer">
        <div class="form">
            <!-- Media Type -->
            <lightning-combobox 
                label="Media Type" 
                value={mediaType} 
                options={mediaTypeOptions} 
                data-field="mediaType" 
                onchange={handleInputChange}>
            </lightning-combobox>

            <!-- Finished Format -->
            <lightning-combobox 
                label="Finished Format" 
                value={finishedFormat} 
                options={finishedFormatOptions} 
                data-field="finishedFormat" 
                onchange={handleInputChange}>
            </lightning-combobox>

            <!-- Width -->
            <lightning-input 
                label="Width" 
                type="number" 
                value={width} 
                data-field="width" 
                step="0.0001" 
                onchange={handleInputChange}>
            </lightning-input>

            <!-- Length -->
            <lightning-input 
                label="Length" 
                type="number" 
                value={length} 
                data-field="length" 
                step="0.0001" 
                onchange={handleInputChange}>
            </lightning-input>

            <!-- Measurement Unit Radio Group - moved outside conditional blocks to show for both Label and Tag -->
            <lightning-radio-group
                label="Measurement unit"
                options={measurementUnitOptions}
                value={measurementUnit}
                data-field="measurementUnit"
                type="radio"
                onchange={handleInputChange}>
            </lightning-radio-group>

            <!-- Tag-specific fields - moved to appear after Length field -->
            <template if:true={isTag}>
                <!-- Sensing details -->
                <lightning-combobox 
                    label="Sensing details" 
                    value={sensingDetails} 
                    options={sensingDetailsOptions} 
                    data-field="sensingDetails" 
                    onchange={handleInputChange}>
                </lightning-combobox>
            </template>

            <template if:true={isLabel}>
                <!-- Gap Down -->
                <lightning-input 
                    label="Gap Down" 
                    type="number" 
                    value={gapDown} 
                    step="0.0001" 
                    data-field="gapDown"
                    onchange={handleInputChange}>
                </lightning-input>

                <!-- Left Margin -->
                <lightning-input 
                    label="Left Margin" 
                    type="number" 
                    value={leftMargin} 
                    step="0.0001" 
                    data-field="leftMargin"
                    onchange={handleInputChange}>
                </lightning-input>

                <!-- Right Margin -->
                <lightning-input 
                    label="Right Margin" 
                    type="number" 
                    value={rightMargin} 
                    step="0.0001" 
                    data-field="rightMargin"
                    onchange={handleInputChange}>
                </lightning-input>

                <!-- Corner Radius -->
                <lightning-input 
                    label="Corner Radius" 
                    type="number" 
                    value={cornerRadius} 
                    step="0.0001" 
                    data-field="cornerRadius"
                    onchange={handleInputChange}>
                </lightning-input>

                <!-- Two fields side by side using flexbox -->
                <div style="display: flex; gap: 12px;">
                    <!-- Shape -->
                    <div style="flex: 1;">
                        <lightning-combobox 
                            label="Shape" 
                            value={shape} 
                            options={shapeOptions} 
                            data-field="shape" 
                            onchange={handleInputChange}>
                        </lightning-combobox>
                    </div>
                    
                    <!-- Standard Perforation -->
                    <div style="flex: 1;">
                        <lightning-combobox 
                            label="Standard perforation?" 
                            value={standardPerforation} 
                            options={perforationOptions} 
                            data-field="standardPerforation" 
                            onchange={handleInputChange}>
                        </lightning-combobox>
                    </div>
                </div>
            </template>

            <div class="render-button">
                <lightning-button label="Render Design" onclick={handleRenderDesign}></lightning-button>
            </div>
        </div>

        <!-- Rendering Container with better spacing -->
        <div class="render-container-wrapper" style="padding: 20px; overflow: auto;">
            <div class="render-container" style="margin: 0 auto; min-height: 200px;"></div>
        </div>
    </lightning-card>
</template>
